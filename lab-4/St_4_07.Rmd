---
title: "Лабораторна робота 4"
output: html_notebook
---

# Підготовка даних

Завантажимо пакет з набором даних mtcars і перевіримо струтуру датасету

```{r}
data(mtcars)
str(mtcars)
```

Виведемо декілька перших рядків набору даних

```{r}
head(mtcars)
```

Статистика змінних

```{r}
summary(mtcars)
```

# Проста лінійна регресія

Побудуємо регресію

```{r}
lm_simple <- lm(mpg ~ am, data = mtcars)
```

Виведемо коефіцієнтів

```{r}
summary(lm_simple)
```

Перевірка статистичних вимог

```{r}
plot(lm_simple)
```

# Множинна лінійна регресія

Побудуємо регресію

```{r}
lm_multiple <- lm(mpg ~ am + cyl + hp + wt, data = mtcars)
```

Виведемо коефіцієнтів

```{r}
summary(lm_multiple)
```

Перевірка статистичних вимог

```{r}
plot(lm_multiple)
```

# Порівняня моделей

Середні значення миль на галон для автоматичних (0) та ручних (1) коробок

```{r}
predicted_simple <- predict(lm_simple, data.frame(am = c(0, 1)))
predicted_multiple <- predict(lm_multiple, data.frame(am = c(0, 1), cyl = mean(mtcars$cyl), 
                              hp = mean(mtcars$hp), wt = mean(mtcars$wt)))
predicted_simple
predicted_multiple
```

Статистичні дані

```{r}
r_squared_simple <- summary(lm_simple)$r.squared
r_squared_multiple <- summary(lm_multiple)$r.squared

rmse_simple <- sqrt(mean(lm_simple$residuals^2))
rmse_multiple <- sqrt(mean(lm_multiple$residuals^2))

aic_simple <- AIC(lm_simple)
aic_multiple <- AIC(lm_multiple)

print("Проста лінійна регресія:")
print(paste("R-квадрат:", r_squared_simple))
print(paste("RMSE:", rmse_simple))
print(paste("AIC:", aic_simple))
print("-------------------------")
print("Множинна лінійна регресія:")
print(paste("R-квадрат:", r_squared_multiple))
print(paste("RMSE:", rmse_multiple))
print(paste("AIC:", aic_multiple))
```

1.  **Коефіцієнт детермінації (R-квадрат)** показує, наскільки добре модель пояснює варіацію у відгуках. Чим ближче значення R-квадрат до 1, тим краще модель пояснює дані.

2.  **Корень середньоквадратичної помилки (RMSE)** - це середнє квадратичне відхилення між спостереженими і передбаченими значеннями. Чим менше значення RMSE, тим краще модель передбачає дані.

3.  **Критерій Акаіке (AIC)** - це метрика, яка оцінює якість моделі, враховуючи її точність і складність. Чим менше значення AIC, тим краще модель.

За кожним з цих критеріїв можна зробити висновок, що множинна лінійна регресія є точнішою моделлю для передбачення зв'язку між типом коробки передач та милями на галон порівняно з простою лінійною регресією.

# Висновок

За результатами передбачень обох моделей, миль на галон для автомобілів з ручною коробкою передач вищі, ніж для автомобілів з автоматичною коробкою передач. Отже, на основі цих даних можна зробити висновок, що автомобілі з ручною коробкою передач мають тенденцію до кращої ефективності пального, оскільки вони забезпечують більшу витрату миль на галон.
